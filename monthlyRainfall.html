<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Monthly Rainfall Bar Chart</title>
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <style>
    body { margin: 0; font-family: system-ui, sans-serif; padding: 20px; }
    #vis { width: 100%; height: 600px; }
  </style>
</head>
<body>
  <h2>Average Monthly Rainfall by State (mm)</h2>
  <div id="vis"></div>

  <script>
    const spec = {
      $schema: "https://vega.github.io/schema/vega-lite/v5.json",
      width: "container",
      height: 400,
      data: { url: "australia_rainfall.csv" },
      mark: "bar",
      encoding: {
        x: {
          field: "Month", type: "ordinal",
          sort: ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],
          title: "Month"
        },
        y: { field: "Rainfall_mm", type: "quantitative", title: "Rainfall (mm)" },
        color: { field: "State", type: "nominal", legend: { title: "State" } },
        tooltip: [{ field: "State" }, { field: "Month" }, { field: "Rainfall_mm", title: "Rainfall (mm)" }]
      }
    };
    vegaEmbed("#vis", spec, { actions: { export:true, source:true, editor:true }});
  </script>
</body>
</html>
